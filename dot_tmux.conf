# Enable mouse support
set -g mouse on

# Set terminal
set -g default-terminal "xterm-ghostty"

# Server option
set -s set-clipboard external

# Enable passthrough
set -g allow-passthrough on

# Terminal features
set -as terminal-features ",*:RGB,clipboard"

# RADICAL: Write OSC52 directly to client TTY
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel \
  "sh -c 'b64=\$(cat | base64 -w0); printf \"\\033]52;c;%s\\a\" \"\$b64\" > \$(tmux display-message -p \"#{client_tty}\")'"

bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel \
  "sh -c 'b64=\$(cat | base64 -w0); printf \"\\033]52;c;%s\\a\" \"\$b64\" > \$(tmux display-message -p \"#{client_tty}\")'"

# Zenburn color scheme
# Palette: bg=#3f3f3f, fg=#dcdccc, green=#7f9f7f, blue=#8cd0d3,
#          orange=#dfaf8f, red=#cc9393, gray=#5f5f5f

# Status bar styling
set -g status-style bg=#3f3f3f,fg=#dcdccc
set -g status-left-style bg=#5f5f5f,fg=#8cd0d3
set -g status-right-style bg=#5f5f5f,fg=#dfaf8f

# Window list styling
set -g window-status-style bg=#3f3f3f,fg=#7f9f7f
set -g window-status-current-style bg=#5f5f5f,fg=#dcdccc,bold
set -g window-status-activity-style bg=#3f3f3f,fg=#cc9393

# Pane borders
set -g pane-border-style fg=#5f5f5f
set -g pane-active-border-style fg=#8cd0d3

# Message styling (when you type commands)
set -g message-style bg=#5f5f5f,fg=#dcdccc
set -g message-command-style bg=#5f5f5f,fg=#dfaf8f

# Copy mode highlighting
set -g mode-style bg=#5f5f5f,fg=#dcdccc
