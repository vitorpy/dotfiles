# Path configuration
path=("$HOME/.local/bin" $path)
path=("$HOME/.zvm/bin" $path)
path=("$HOME/go/bin" $path)
path=("$HOME/.local/share/solana/install/active_release/bin" $path)
export PATH

# Editor
export EDITOR=nvim

# NVM Setup
export NVM_DIR="$HOME/.nvm"
# Load nvm from Arch package
[ -f /usr/share/nvm/init-nvm.sh ] && source /usr/share/nvm/init-nvm.sh

# Lean
[ -f "$HOME/.elan/env" ] && source "$HOME/.elan/env"

# pnpm
export PNPM_HOME="$HOME/.local/share/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end

# Interactive shell configuration
if [[ $- == *i* ]]; then
    # System update alias
    alias update="$HOME/.config/arch/update-system.sh"

    # GNOME Control Center (works outside GNOME)
    alias gnome-settings="env XDG_CURRENT_DESKTOP=GNOME gnome-control-center"

    # Command aliases
    alias cat='bat'
    alias ls='lsd'
    alias vim='nvim'
    alias grok='codex --model grok-code-fast-1 --config model_provider="xai"'
    alias grok-full='codex --model grok-4-latest --config model_provider="xai"'

    # Starship prompt
    eval "$(starship init zsh)"

    # direnv
    eval "$(direnv hook zsh)"

    # zoxide - smarter cd command
    eval "$(zoxide init zsh)"
    alias cd="z"

    # fzf - fuzzy finder key bindings
    # Ctrl+R: command history search
    # Ctrl+T: file search
    # Alt+C: directory search
    [ -f /usr/share/fzf/key-bindings.zsh ] && source /usr/share/fzf/key-bindings.zsh
    [ -f /usr/share/fzf/completion.zsh ] && source /usr/share/fzf/completion.zsh

    # Enable completion system
    autoload -Uz compinit
    compinit

    # History configuration
    HISTSIZE=10000
    SAVEHIST=10000
    HISTFILE=~/.zsh_history
    setopt HIST_IGNORE_DUPS
    setopt HIST_FIND_NO_DUPS
    setopt SHARE_HISTORY

    # Case-insensitive completion
    zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'
fi

source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
