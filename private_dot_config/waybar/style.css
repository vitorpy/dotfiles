/* MD3 Dark Theme Palette (Pragmatic - keeping warm accent) */
@define-color md3_surface #1D1B20;
@define-color md3_surface_container #25232A;
@define-color md3_surface_container_high #2B292F;
@define-color md3_on_surface #E6E1E5;
@define-color md3_on_surface_variant #CAC4D0;
@define-color md3_outline #49454F;
@define-color md3_outline_variant #49454F;
@define-color md3_primary #f0dfaf;
@define-color md3_on_primary #1D1B20;
@define-color md3_secondary #9ece9e;
@define-color md3_secondary_container #3a4a3a;
@define-color md3_error #F2B8B5;
@define-color md3_on_error #1D1B20;

/* Global look + font */
* {
  font-family: "Roboto", "Material Symbols Outlined", sans-serif;
}

window#waybar {
  background: transparent;
  border: none;
  font-size: 16px;                  /* bump if you want 13–14px */
}

/* Reset default borders/outlines for all widgets */
.modules-left > *,
.modules-center > *,
.modules-right > * {
  border: none;
  outline: none;
}

/* add outer padding so edge widgets (e.g., power) have room for popups */
.modules-left  {
  padding-left: 0;
  margin: 0;
  border: none;
  box-shadow: none;
}

#battery.charging { 
  background: @md3_surface_container;
  color: @md3_on_surface;
  border: 1px solid @md3_outline;
  border-radius: 12px;
  margin: 4px 8px;
  padding: 0 12px;
}

#custom-dnf-updates {
  border: none;
  box-shadow: none;
  outline: none;
  margin: 0;
  padding: 0;
}

#custom-dnf-updates.updates-available {
  background: @md3_surface_container;
  color: @md3_on_surface;
  border-top: 1px solid @md3_outline;
  border-right: 1px solid @md3_outline;
  border-bottom: 1px solid @md3_outline;
  border-left: none;
  border-radius: 12px;
  margin: 4px 4px 4px 8px;
  padding: 0 12px;
  box-shadow: none;
  outline: none;
}

#custom-reboot-required.reboot-required {
  background: @md3_surface_container;
  color: @md3_on_surface;
  border: 1px solid @md3_outline;
  border-radius: 12px;
  margin: 4px 8px;
  padding: 0 12px;
}

.modules-right {
  background: @md3_surface_container;
  color: @md3_on_surface;
  border: 1px solid @md3_outline;      /* unified stroke (replaces border-bottom) */
  border-radius: 12px;
  margin: 4px 8px;                 /* space around the whole right group */
  padding: 0 8px;                  /* space between pill edge and first/last item */
}

.modules-center { 
  border-radius: 12px;
  background: @md3_surface_container;
  color: @md3_on_surface;
  border-bottom: 1px solid @md3_outline;
  margin-top: 8px;
}

/* uniform internal spacing for every module */
.modules-left  > * {
  padding: 0;                        /* left modules are self-contained pills */
  margin: 0;
}

.modules-center> *,
.modules-right > * {
  padding: 0 12px;                   /* more space than before */
  margin: 0;
}

/* separators (kept subtle) */
.modules-center> * + * {
  border-left: 1px solid @md3_outline;
  padding-left: 8px;
}

/* internal item spacing stays uniform + tight separators from before */
.modules-right > * {
  padding: 0 12px;
  margin: 0;
}

.modules-right > * + * {
  box-shadow: inset 1px 0 0 @md3_outline;   /* separator line without extra gap */
}

/* center clock – more room, no separator */
#clock { padding: 0 16px; border: none; }

/* hover accent - MD3 state layer (8% primary overlay) */
button:hover {
  background-color: alpha(@md3_primary, 0.08);
  color: @md3_on_surface;
}

/* workspaces */
#workspaces button {
  color: @md3_secondary;
  background-color: @md3_surface_container;
}
#workspaces button:hover {
  background-color: alpha(@md3_secondary, 0.08);
}
#workspaces button.active {
  background-color: @md3_secondary_container;
  color: @md3_on_surface;
}

/* tray spacing */
#tray { padding: 0 8px; }
#tray > * { margin-right: 8px; }

/* keyboard layout */
#custom-kblayout { min-width: 32px; }

/* power widget (custom/power usually maps to #custom-power) */
#custom-power { padding: 0 16px; }

/* popup menu (Waybar's GTK menu) */
menu {
  background: @md3_surface_container;
  color: @md3_on_surface;
  border: 1px solid @md3_outline;
  margin-top: 8px;                   /* drop it away from bar so it's not clipped */
  min-width: 180px;                  /* avoid super-narrow menus */
}
menu > menuitem { padding: 8px 12px; }
menu > menuitem:hover {
  background-color: alpha(@md3_primary, 0.08);
  color: @md3_on_surface;
}

#custom-mako-dnd {
  padding: 0 12px;
  border-left: 1px solid @md3_outline;
}

#custom-mako-dnd:hover {
  background-color: alpha(@md3_primary, 0.08);
  color: @md3_on_surface;
}

#custom-mako-clear {
  padding: 0 12px;
  border-left: 1px solid @md3_outline;
}

#custom-mako-clear:hover {
  background-color: alpha(@md3_primary, 0.08);
  color: @md3_on_surface;
}

/* per-module minimum widths (tune to taste) */
#pulseaudio        { min-width: 70px; }   /* speaker */
#pulseaudio.mic    { min-width: 70px; }   /* mic instance (pulseaudio#mic) */
#custom-brightness { min-width: 70px; }   /* brightness control */
#network           { min-width: 160px; }
#power-profiles-daemon { min-width: 100px; }
#battery           { min-width: 34px; }
#battery.warning   { color: @md3_error; }
#battery.critical  { background: @md3_error; color: @md3_surface_container; }
#cpu               { min-width: 48px; }
#temperature       { min-width: 56px; }
#custom-kblayout   { min-width: 34px; }
#tray              { min-width: 36px; }   /* leaves room when few icons */
#custom-mako-dnd   { min-width: 34px; }
#custom-mako-clear { min-width: 34px; }
#custom-power      { min-width: 34px; }

/* (optional) keep clock tight but stable */
#clock             { min-width: 190px; }

.modules-center {
  background: @md3_surface_container;
  color: @md3_on_surface;
  border: 1px solid @md3_outline;   /* was border-bottom only */
  border-radius: 12px;
  margin: 4px 8px;             /* was margin-top: 8px */
  padding: 0 8px;
}

/* center group item spacing to match right group */
.modules-center > * {
  padding: 0 12px;
  margin: 0;
}

/* kill old separator rule for center, then use inset line */
.modules-center > * + * {
  border-left: none;           /* override previous rule */
  padding-left: 0;             /* override previous rule */
  box-shadow: inset 1px 0 0 @md3_outline;
}
